[
  {
    "id":"40063072350317987492"
   ,"Identification":{
      "Name":"Alertify"
    }
   ,"Source":{
      "PL\/SQL Code":"function render(p_dynamic_action in apex_plugin.t_dynamic_action\n              , p_plugin         in apex_plugin.t_plugin)\nreturn apex_plugin.t_dynamic_action_render_result is\n  l_theme                varchar2(4000) := p_plugin.attribute_01;\n  l_def_ok_btn_label     varchar2(4000) := p_plugin.attribute_02;\n  l_def_cancel_btn_label varchar2(4000) := p_plugin.attribute_03;\n\n  l_message_type       varchar2(4000) := p_dynamic_action.attribute_01;\n  l_dialog_type        varchar2(4000) := p_dynamic_action.attribute_02;\n  l_notification_type  varchar2(4000) := p_dynamic_action.attribute_03;\n  l_message            varchar2(4000) := p_dynamic_action.attribute_04;\n  l_default_value      varchar2(4000) := p_dynamic_action.attribute_05;\n  l_return_into_item   varchar2(4000) := p_dynamic_action.attribute_06;\n  l_ok_btn_label       varchar2(4000) := p_dynamic_action.attribute_07;\n  l_cancel_btn_label   varchar2(4000) := p_dynamic_action.attribute_08;\n  l_btn_order          varchar2(4000) := p_dynamic_action.attribute_09;\n  l_btn_focus          varchar2(4000) := p_dynamic_action.attribute_10;\n  l_notification_delay varchar2(4000) := p_dynamic_action.attribute_11;\n\n  l_function_call varchar2(4000);\n  l_render_result apex_plugin.t_dynamic_action_render_result;\n\n\n  function get_properties\n  return varchar2 is\n    l_ok_label     varchar2(4000);\n    l_cancel_label varchar2(4000);\n    l_props        varchar2(32767);\n  begin\n    l_ok_label := nvl(l_ok_btn_label, nvl(l_def_ok_btn_label, \u0027OK\u0027));\n    l_cancel_label := nvl(l_cancel_btn_label, nvl(l_def_cancel_btn_label, \u0027Cancel\u0027));\n\n    l_props := \u0027alertify.set({labels:{ok:\"\u0027 || l_ok_label || \u0027\",cancel:\"\u0027 || l_cancel_label || \u0027\"},\u0027;\n\n    if (l_dialog_type = \u0027ALERT\u0027) then\n      l_props := l_props || \u0027buttonReverse:false,buttonFocus:\"ok\"\u0027;\n    else\n      if (l_btn_order = \u0027REVERSE\u0027) then\n        l_props := l_props || \u0027buttonReverse:true,\u0027;\n      else\n        l_props := l_props || \u0027buttonReverse:false,\u0027;\n      end if;\n\n      if (l_btn_focus = \u0027OK\u0027) then\n        l_props := l_props || \u0027buttonFocus:\"ok\"\u0027;\n      elsif (l_btn_focus = \u0027CANCEL\u0027) then\n        l_props := l_props || \u0027buttonFocus:\"cancel\"\u0027;\n      else\n        l_props := l_props || \u0027buttonFocus:\"none\"\u0027;\n      end if;\n    end if;\n\n    l_props := l_props || \u0027});\u0027;\n\n    return l_props;\n  end get_properties;\nbegin\n  if (apex_application.g_debug) then\n    apex_plugin_util.debug_dynamic_action(p_plugin, p_dynamic_action);\n  end if;\n\n  apex_javascript.add_library(\n    p_name      =\u003E \u0027alertify.min\u0027,\n    p_directory =\u003E p_plugin.file_prefix,\n    p_version   =\u003E null\n  );\n  apex_javascript.add_library(\n    p_name      =\u003E \u0027apex.alertify\u0027,\n    p_directory =\u003E p_plugin.file_prefix,\n    p_version   =\u003E null\n  );\n  apex_css.add_file(\n    p_name      =\u003E \u0027alertify.core\u0027,\n    p_directory =\u003E p_plugin.file_prefix,\n    p_version   =\u003E null\n  );\n  if (l_theme = \u0027DEFAULT\u0027) then\n    apex_css.add_file(\n      p_name      =\u003E \u0027alertify.default\u0027,\n      p_directory =\u003E p_plugin.file_prefix,\n      p_version   =\u003E null\n    );\n  else\n    apex_css.add_file(\n      p_name      =\u003E \u0027alertify.bootstrap\u0027,\n      p_directory =\u003E p_plugin.file_prefix,\n      p_version   =\u003E null\n    );\n  end if;\n\n  l_render_result.attribute_03 := l_notification_type;\n  l_render_result.attribute_04 := l_message;\n  l_render_result.attribute_05 := l_default_value;\n  l_render_result.attribute_06 := l_return_into_item;\n  l_render_result.attribute_11 := nvl(l_notification_delay, 5000);\n\n  if (l_message_type = \u0027DIALOG\u0027) then\n    if (l_dialog_type = \u0027ALERT\u0027) then\n      l_function_call := \u0027beCtbAlertify.dialog.alert(this);\u0027;\n    elsif (l_dialog_type = \u0027CONFIRM\u0027) then\n      l_function_call := \u0027beCtbAlertify.dialog.confirm(this);\u0027;\n    else\n      l_function_call := \u0027beCtbAlertify.dialog.prompt(this);\u0027;\n    end if;\n    l_render_result.javascript_function := \u0027function() {\u0027 || get_properties || \u0027 \u0027 || l_function_call || \u0027}\u0027;\n  else\n    l_function_call := \u0027beCtbAlertify.notification.log(this);\u0027;\n    l_render_result.javascript_function := \u0027function() {\u0027 || l_function_call || \u0027}\u0027;\n  end if;\n\n  return l_render_result;\nend render;"
    }
  }
]
